<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <title>A Metade Que Me Faltava</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Garamond&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
</head>

<body>

    <!-- Header fixo -->
    <header id="main-header">
        <button id="menu-btn" class="header-btn" aria-label="Abrir índice">
            <span class="material-icons-round">menu</span>
        </button>

        <div class="book-title" id="chapter-title">Carregando...</div>

        <button id="settings-btn" class="header-btn" aria-label="Configurações">
            <span class="material-icons-round">settings</span>
        </button>
        <!-- Language selector -->
        <select id="language-select" class="header-btn" aria-label="Selecionar idioma" style="margin-left:8px;">
            <option value="pt" selected>PT</option>
            <option value="en">EN</option>
            <option value="es">ES</option>
            <option value="fr">FR</option>
        </select>
    </header>

    <!-- Overlay -->
    <div id="overlay"></div>

    <!-- Sidebar -->
    <aside id="sidebar">
        <button id="close-sidebar" class="close-sidebar">×</button>
        <h3>Índice</h3>
        <ul id="chapter-list" class="chapter-list"></ul>
    </aside>

    <!-- Área Principal (Scroll) -->
    <main id="reader-container">
        <article id="content">
            <p style="text-align:center; margin-top: 50vh;">Carregando...</p>
        </article>
    </main>

    <!-- Footer -->
    <footer>
        <div id="status-stats"
            style="flex:2; font-size: 10px; opacity: 0.7; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; padding-left: 10px;">
            ...</div>
        <div id="status-page" class="page-status" style="flex:1; text-align: right; padding-right: 10px;">0%</div>
    </footer>

    <!-- Modal Configurações -->
    <div id="settings-modal">

        <div class="setting-group">
            <span class="setting-label">Tema</span>
            <div class="theme-options">
                <button class="theme-btn" data-theme="light"><span class="material-icons-round">light_mode</span>
                    Claro</button>
                <button class="theme-btn" data-theme="sepia"><span class="material-icons-round">menu_book</span>
                    Sépia</button>
                <button class="theme-btn" data-theme="dark"><span class="material-icons-round">dark_mode</span>
                    Escuro</button>
            </div>
        </div>

        <div class="setting-group">
            <div style="display:flex; justify-content:space-between;">
                <span class="setting-label">Tamanho da Fonte</span>
                <span id="font-val" style="font-size:0.8rem;">18px</span>
            </div>
            <input type="range" id="font-size-range" min="14" max="24" step="1" value="18">
        </div>

        <div class="setting-group">
            <span class="setting-label">Tipo de Letra</span>
            <select id="font-family-select"
                style="width:100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; background: transparent; color: var(--text-color);">
                <option value="serif">Com Serifa (Clássica)</option>
                <option value="sans">Sem Serifa (Moderna)</option>
            </select>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/marked.min.js"></script>
    <script src="js/book-content.js"></script>
    <script src="js/app.js"></script>
    <script>
        // Initialize language from localStorage
        const langSelect = document.getElementById('language-select');
        const savedLang = localStorage.getItem('selectedLanguage') || 'pt';
        langSelect.value = savedLang;
        langSelect.addEventListener('change', function () {
            localStorage.setItem('selectedLanguage', this.value);
            // Reload to apply language change (future implementation will load appropriate content)
            location.reload();
        });
    </script>

</body>

</html>